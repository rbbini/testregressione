<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Fe:Loredana Frontino, Be:Andrea Fuscaldi, Be:Roberto Bini">
		<meta name="description" content="Risultati con grafici per progetto Epimetheus">
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<link href="/static/style.css" rel="stylesheet" type="text/css">
		<title>Epimetheus - results</title>
		<!--script src="https://d3js.org/d3.v7.min.js"></script-->
		<script src="https://d3js.org/d3.v4.js"></script>
	</head>
	<body>
		<header class="fixed-top">
			<nav class="navbar navbar-light bg-light shadow-sm">
				<div class="container">
					<span class="navbar-brand mb-0 h1">Epimetheus project</span>
				</div>
			</nav>
		</header>
		<div id="results" class="container my-5">
			<div class="row">
				<div class="head-form pt-4 d-flex justify-content-between align-items-start col-lg-8 col-12 mx-auto">
					<button class="btn btn-blue text-uppercase activeBtn" disabled>1</button>
					<div class="lineToNext lineActive" id="goStep2"></div>
					<button class="btn btn-blue text-uppercase activeBtn" id="btnStep2" disabled>2</button>
					<div class="lineToNext lineActive" id="goStep3"></div>
					<button class="btn btn-blue text-uppercase activeBtn" id="btnStep3" disabled>3</button>
					<div class="lineToNext lineActive" id="goStep4"></div>
					<button class="btn btn-blue text-uppercase activeBtn" id="btnStep4">4</button>
				</div>
			</div>
			<div class="row">
				<div class="col-12 border-bottom py-3">
					<a href="/" class="text-decoration-none fw-bold text-blue">< Go back to compilation</a>
				</div>
				<h1 class="text-blue mt-3 fs-3 col-12">Results</h1>
			</div>
			<h6>Editable parameters:</h6>
			<div class="row" id="isPhysicalParam">
				<div class="form-group col-xl-3 col-md-6 col-12">
					<label for="counterfact0sel" id="counterfact0p" class="form-label text-uppercase"></label>
					<select class="form-select" aria-label="Select for procedure" name="counterfact0sel" id="counterfact0sel" onchange="newResultsP()">
					</select>
				</div>
				<div class="form-group col-xl-3 col-md-6 col-12">
					<label for="counterfact1sel" id="counterfact1p" class="form-label text-uppercase"></label>
					<select class="form-select" aria-label="Select for procedure" name="counterfact1sel" id="counterfact1sel" onchange="newResultsP()">
					</select>
				</div>
			</div>
			<div class="row" id="isMentalParam">
				<div class="form-group col-xl-3 col-md-6 col-12">
					<label for="counterfact5sel" id="counterfact5p" class="form-label text-uppercase"></label>
					<select class="form-select" aria-label="Select for procedure" name="counterfact5sel" id="counterfact5sel" onchange="newResultsM()">
					</select>
				</div>
				<div class="form-group col-xl-3 col-md-6 col-12">
					<label for="counterfact6sel" id="counterfact6p" class="form-label text-uppercase"></label>
					<select class="form-select" aria-label="Select for procedure" name="counterfact6sel" id="counterfact6sel" onchange="newResultsM()">
					</select>
				</div>
			</div>
			<div class="row" id="isODIParam">
				<div class="form-group col-xl-3 col-md-6 col-12">
					<label for="counterfact7sel" id="counterfact7p" class="form-label text-uppercase"></label>
					<select class="form-select" aria-label="Select for procedure" name="counterfact7sel" id="counterfact7sel" onchange="newResultsM()">
					</select>
				</div>
				<div class="form-group col-xl-3 col-md-6 col-12">
					<label for="counterfact8sel" id="counterfact8p" class="form-label text-uppercase"></label>
					<select class="form-select" aria-label="Select for procedure" name="counterfact8sel" id="counterfact8sel" onchange="newResultsM()">
					</select>
				</div>
			</div>
			<div id="stepViz">
				<div class="row">
					<div class="col-lg-4 col-md-6 col-12">
						<div class="border border-blue rounded p-3 mb-3">
							<div class="position-relative">
								<div class="circular-graph">
									<div class="content-wrapper"></div>
								</div>
								<div class="improved position-absolute">
									<svg viewBox="0 0 900 900">
										<path id="curve-improved" fill="transparent" d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"/>
										<text width="500">
											<textPath xlink:href="#curve-improved">
												Improved -------- Stable ------- Uncertain
											</textPath>
										</text>
									</svg>
								</div>
<!--								<svg viewBox="0 0 50 50" class="stable position-absolute">d="M10,30c3-6,10-20,60-20c2,0.2,42.5,22.5,40,22.5"-->
								<!--									<path id="curve-stable" fill="transparent" d="M10,30c3-6,10-20,60-20c2,0.2,42.5,22.5,40,22.5" />-->
<!--									<text width="100">-->
<!--										<textPath xlink:href="#curve-stable">-->
<!--											stable-->
<!--										</textPath>-->
<!--									</text>-->
<!--								</svg>-->
<!--								<svg viewBox="0 0 50 50" class="worsened position-absolute">-->
<!--									<path id="curve-worsened" fill="transparent" d="M10,30c3-6,10-20,60-20c2,0.2,42.5,22.5,40,22.5" />-->
<!--									<text width="100">-->
<!--										<textPath xlink:href="#curve-worsened">-->
<!--											worsened-->
<!--										</textPath>-->
<!--									</text>-->
<!--								</svg>-->
							</div>
							<div class="text-end pt-3 border-top mt-5">
								<button class="btn btn-blue outline" type="button" data-toggle="modal" data-target="#evalModal" onclick="evalPred('bar')">Evaluate prediction</button>
							</div>

						</div>
						<div class="border border-blue rounded p-3 mb-3">
							<div class="d-flex justify-content-around pb-3 mb-3 border-bottom">
								<div class="d-flex position-relative mt-5">
									<div class="bar-el bar-worsened"></div>
									<div class="bar-el bar-stable"></div>
									<div class="bar-el bar-improved"></div>
									<div class="position-absolute top-0" id="valueBar"></div>
								</div>
								<div>
									<p class="mb-1">Legend:</p>
									<p class="mb-0 fs-6 mig position-relative">Improved</p>
									<p class="mb-0 fs-6 stab position-relative">Stable</p>
									<p class="mb-0 peg position-relative">Uncertain</p>
								</div>
							</div>
							<div class="text-end">
								<button class="btn btn-blue outline" type="button" data-toggle="modal" data-target="#evalModal" onclick="evalPred('bar')">Evaluate prediction</button>
							</div>
						</div>
					</div>
					<div class="col-lg-8 col-12 mb-3">
						<div class="border border-blue rounded p-3 h-100">
							<div class="chart-wrapper" id="violinPlot1"></div>
							<div class="text-end">
								<button class="btn btn-blue outline" type="button" data-toggle="modal" data-target="#evalModal" onclick="evalPred('bar')">Evaluate prediction</button>
							</div>
						</div>
					</div>
					<div class="col-lg-4 col-md-12 mb-3">
						<div class="border border-blue rounded p-3">
							<div class="chart-wrapper position-relative" id="plotWBox">
								<div class="position-absolute"></div>
							</div>
							<div class="text-end">
								<button class="btn btn-blue outline" type="button" data-toggle="modal" data-target="#evalModal" onclick="evalPred('bar')">Evaluate prediction</button>
							</div>
						</div>
					</div>
					<div class="col-lg-8 col-12 mb-3">
						<div class="border border-blue rounded p-3">
							<div class="chart-wrapper" id="scatterPlot1"></div>
							<div class="text-end">
								<button class="btn btn-blue outline" type="button" data-toggle="modal" data-target="#evalModal" onclick="evalPred('bar')">Evaluate prediction</button>
							</div>
						</div>
					</div>
					<div class="col-12 mb-3">
						<div class="border border-blue rounded p-3">
<!--							<p>Immagine con filtri</p>-->
							<div class="text-end">
								<button class="btn btn-blue outline" type="button" data-toggle="modal" data-target="#evalModal" onclick="evalPred('bar')">Evaluate prediction</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="spinner" class="d-flex justify-content-center align-items-center my-5 py-4">
			<strong class="text-darker-blue me-4">Loading results</strong>
			<div class="spinner-grow text-darker-blue mx-2" role="status">
				<span class="visually-hidden">Loading...</span>
			</div>
			<div class="spinner-grow text-blue mx-2" role="status">
				<span class="visually-hidden">Loading...</span>
			</div>
			<div class="spinner-grow text-azure mx-2" role="status">
				<span class="visually-hidden">Loading...</span>
			</div>
			<div class="spinner-grow text-celeste mx-2" role="status">
				<span class="visually-hidden">Loading...</span>
			</div>
		</div>
		<div>
			<div id="my_dataviz"></div>
			<div id="my_dataviz2"></div>
			<div class="modal fade" id="evalModal" tabindex="-1" role="dialog" aria-labelledby="evalModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="evalModalLabel">Evaluate prediction</h5>
						<button type="button" class="btn btn-link text-blue text-decoration-none" data-dismiss="modal" aria-label="Close" onclick="evalPred('')">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form>
							<div class="row">
								<p class="col-12 text-blue">Evaluate the usefulness of the information shown in this visualization on a scale from 1 (not at all useful) to 5 (very useful)</p>
								<div class="col-xl-2 col-md-4 col-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="1" name="preference" id="preference1">
										<label class="form-check-label" for="preference1">
											1
										</label>
									</div>
								</div>
								<div class="col-xl-2 col-md-4 col-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="2" name="preference" id="preference2">
										<label class="form-check-label" for="preference2">
											2
										</label>
									</div>
								</div>
								<div class="col-xl-2 col-md-4 col-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="3" name="preference" id="preference3">
										<label class="form-check-label" for="preference3">
											3
										</label>
									</div>
								</div>
								<div class="col-xl-2 col-md-4 col-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="4" name="preference" id="preference4">
										<label class="form-check-label" for="preference4">
											4
										</label>
									</div>
								</div>
								<div class="col-xl-2 col-md-4 col-6">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="5" name="preference" id="preference5">
										<label class="form-check-label" for="preference5">
											5
										</label>
									</div>
								</div>
							</div>
							<div class="row mt-4">
								<p class="col-12 text-blue">How did this information impact your clinical decision?</p>
								<div class="col-md-6 col-12">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="1" name="idea" id="idea1">
										<label class="form-check-label" for="idea1">
											I changed my mind
										</label>
									</div>
								</div>
								<div class="col-md-6 col-12">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="2" name="idea" id="idea2">
										<label class="form-check-label" for="idea2">
											it gave me elements to change my mind
										</label>
									</div>
								</div>
								<div class="col-md-6 col-12">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="3" name="idea" id="idea3">
										<label class="form-check-label" for="idea3">
											it gave me elements that were not decisive or decisive
										</label>
									</div>
								</div>
								<div class="col-md-6 col-12">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="4" name="idea" id="idea4">
										<label class="form-check-label" for="idea4">
											I haven't changed my mind
										</label>
									</div>
								</div>
								<div class="col-md-6 col-12">
									<div class="form-check">
										<input class="form-check-input" type="radio" value="5" name="idea" id="idea5">
										<label class="form-check-label" for="idea5">
											I do not know
										</label>
									</div>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="evalPred('')">Close</button>
						<button type="button" class="btn btn-primary" onclick="evalPred('')">Send evaluation</button>
					</div>
				</div>
			</div>
		</div>
		</div>
<!--		<script src="/static/js/distrochart.js" charset="utf-8"></script>-->
		<script rel="script" src="/static/js/results.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

	</body>
</html>